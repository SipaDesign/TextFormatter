<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Formatting Cleaner</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for a cleaner look */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: #2d3748; /* gray-800 */
        }
        textarea::-webkit-scrollbar-thumb {
            background: #4a5568; /* gray-600 */
            border-radius: 4px;
        }
        textarea::-webkit-scrollbar-thumb:hover {
            background: #718096; /* gray-500 */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 p-6 md:p-10 min-h-screen">

    <div class="max-w-6xl mx-auto">
        
        <!-- Header -->
        <h1 class="text-3xl font-bold text-center text-blue-400 mb-4">Text Formatting Cleaner</h1>
        <p class="text-center text-gray-400 mb-8">
            Paste your messy text below to remove extra spaces, blank lines, and other formatting issues.
        </p>

        <!-- Main Grid Layout -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Input Box -->
            <div class="flex flex-col">
                <label for="inputText" class="text-lg font-medium mb-3 text-gray-300">1. Paste Your Messy Text Here:</label>
                <textarea id="inputText" rows="20"
                          class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg text-gray-200 font-mono text-sm shadow-inner"
                          placeholder="Paste content from Google Docs, PDFs, or websites..."></textarea>
            </div>

            <!-- Output Box -->
            <div class="flex flex-col">
                <label for="outputText" class="text-lg font-medium mb-3 text-gray-300">2. Get Your Clean Text:</label>
                <textarea id="outputText" rows="20"
                          class="w-full p-4 bg-gray-800 border border-gray-700 rounded-lg text-gray-200 font-mono text-sm shadow-inner"
                          placeholder="Cleaned text will appear here..." readonly></textarea>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="mt-6 flex flex-wrap justify-center gap-4">
            
            <button id="cleanButton"
                    class="flex-1 min-w-[200px] bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md
                           hover:bg-blue-700 active:bg-blue-800 transition duration-150 ease-in-out
                           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                <!-- SVG Icon for magic wand -->
                <svg class="w-5 h-5 inline-block mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5.16 14.77a.75.75 0 01-1.06 0L1.87 12.538a.75.75 0 010-1.06l3.192-3.192a2.25 2.25 0 011.591-.659h5.714zM9.75 3.104a2.25 2.25 0 00-1.591.659L4.92 7.001a.75.75 0 000 1.06l3.192 3.192a2.25 2.25 0 001.591.659h5.714a2.25 2.25 0 001.591-.659l3.232-3.232a.75.75 0 000-1.06l-3.232-3.232a2.25 2.25 0 00-1.591-.659H9.75z" />
                </svg>
                Clean Text (Join Lines & Fix Spacing)
            </button>

            <button id="copyButton"
                    class="flex-1 min-w-[150px] bg-green-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md
                           hover:bg-green-700 active:bg-green-800 transition duration-15J0 ease-in-out
                           focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75">
                <!-- SVG Icon for copy -->
                <svg class="w-5 h-5 inline-block mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.5a1.125 1.125 0 011.125-1.125h9.75a1.125 1.125 0 011.125 1.125v3.375" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6h.008v.008H16.5V6z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M18 12.75h.008v.008H18v-.008z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 15h.008v.008H12V15z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 17.25h.008v.008H12v-.008z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 15h.008v.008H9V15z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25h.008v.008H9v-.008z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 12h.008v.008H12V12z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12h.008v.008H15V12z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 14.25h.008v.008H15v-.008z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M18 15h.008v.008H18V15z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 19.5h4.5a1.125 1.125 0 001.125-1.125v-9.75a1.125 1.125 0 00-1.125-1.125h-4.5a1.125 1.125 0 00-1.125 1.125v9.75c0 .621.504 1.125 1.125 1.125z" />
                </svg>
                Copy to Clipboard
            </button>
            
            <button id="clearButton"
                    class="flex-1 min-w-[150px] bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md
                           hover:bg-gray-700 active:bg-gray-800 transition duration-150 ease-in-out
                           focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75">
                <!-- SVG Icon for clear -->
                <svg class="w-5 h-5 inline-block mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-9.284c-.298 0-.585-.119-.796-.33z" />
                </svg>
                Clear All
            </button>
        </div>
        
        <!-- Info Box for "Clear Formatting" -->
        <div class="mt-12 bg-gray-800 p-6 rounded-lg shadow-lg border border-blue-500/30">
            <h3 class="text-xl font-bold mb-3 text-blue-300">How this fixes "Clear Formatting"</h3>
            <p class="text-gray-300">
                When you copy text from this tool (especially the "Cleaned Text"), you are only copying the raw, unformatted text.
            </p>
            <p class="text-gray-300 mt-2">
                This means when you paste it back into Google Docs or another app, it will **not** bring any of the old, messy fonts, colors, or backgrounds with it. It's the perfect way to "scrub" your text clean.
            </p>
        </div>
    </div>

    <script>
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const cleanButton = document.getElementById('cleanButton');
        const copyButton = document.getElementById('copyButton');
        const clearButton = document.getElementById('clearButton');

        cleanButton.addEventListener('click', () => {
            let text = inputText.value;
            
            // 1. Split the text into "paragraphs" based on one or more blank lines
            // (two or more newline characters, possibly with whitespace in between).
            // We use a non-capturing group (?:...) to split.
            const paragraphs = text.split(/(?:\n\s*){2,}/g);

            const cleanedParagraphs = paragraphs
                // Filter out empty strings or whitespace-only strings
                // that might result from the split.
                .filter(p => p && p.trim().length > 0) 
                .map(paragraph => {
                    // 2. For each paragraph, split it into individual lines
                    const lines = paragraph.split('\n');
                    
                    // 3. Trim each line, replace multiple spaces with one,
                    // filter out empty lines, and join them with a single space.
                    return lines
                        .map(line => line.trim().replace(/\s+/g, ' '))
                        .filter(line => line.length > 0)
                        .join(' ');
                });

            // 4. Join the cleaned paragraphs back together with a double newline
            // to preserve the paragraph breaks.
            outputText.value = cleanedParagraphs.join('\n\n');
        });

        copyButton.addEventListener('click', () => {
            if (!outputText.value) {
                alert("Nothing to copy!");
                return;
            }
            
            outputText.select();
            
            // Using document.execCommand for compatibility in iFrames
            try {
                document.execCommand('copy');
                // Give visual feedback
                copyButton.innerHTML = 'Copied!';
                setTimeout(() => {
                    copyButton.innerHTML = `
                        <svg class="w-5 h-5 inline-block mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.5a1.125 1.125 0 011.125-1.125h9.75a1.125 1.125 0 011.125 1.125v3.375" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6h.008v.008H16.5V6z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 12.75h.008v.008H18v-.008z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 15h.008v.008H12V15z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 17.25h.008v.008H12v-.008z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 15h.008v.008H9V15z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25h.008v.008H9v-.008z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 12h.008v.008H12V12z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12h.008v.008H15V12z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 14.25h.008v.008H15v-.008z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M18 15h.008v.008H18V15z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 19.5h4.5a1.125 1.125 0 001.125-1.125v-9.75a1.125 1.125 0 00-1.125-1.125h-4.5a1.125 1.125 0 00-1.125 1.125v9.75c0 .621.504 1.125 1.125 1.125z" />
                        </svg>
                        Copy to Clipboard`;
                }, 2000);

            } catch (err) {
                console.error('Failed to copy: ', err);
                alert("Failed to copy text. Please try manually.");
            }
            
            // Deselect text
            window.getSelection().removeAllRanges();
        });

        clearButton.addEventListener('click', () => {
            inputText.value = "";
            outputText.value = "";
        });

    </script>

</body>
</html>
